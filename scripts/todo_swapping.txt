
 Вытеснение регистров.


 Конфликтные ситуации.


 1.
 вытесняем регистр
 jcc label1
 восстанавливаем регистр
 ret
 label1:
 используем регистр

 2.
 вытесняем регистр
 jcc label1
 восстанавливаем регистр
 label1:
 используем регистр

 3.
 используем регистр
 jcc label1
 вытесняем регистр
 ret
 label1:
 используем регистр (восстанавливаем или нет?)


 
 Решение:

 Вообще, стейт в конце каждого блока не должен отличаться от стейта в начале блока.

 При этом, если блок заканчивается на ret, мы можем не генерировать код восстановления регистров, 
 а просто восстановить стейт.

